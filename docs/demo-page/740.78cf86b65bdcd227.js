"use strict";(self.webpackChunkdiagnostics_app=self.webpackChunkdiagnostics_app||[]).push([[740],{740:(Se,A,c)=>{c.r(A),c.d(A,{SupportAssistModule:()=>we});var C=c(9970),s=c(6814),t=c(5879);let U=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[s.ez,C.m]})}return n})(),P=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[s.ez,C.m]})}return n})(),D=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[s.ez,C.m]})}return n})();var x=c(4408),l=c(5861),y=c(9881),N=c(7565),f=c(1175),m=c(7881),h=c(1753),d=c(6657);const T={length_seconds:10},Z=new Map([[d.cU.ac_power,{expected_status:d.Hg.connected}],[d.cU.battery_charge,{length_seconds:10,minimum_charge_percent_required:50}],[d.cU.battery_discharge,{length_seconds:10,maximum_discharge_percent_allowed:50}],[d.cU.bluetooth_pairing,{peripheral_id:"unknown"}],[d.cU.bluetooth_scanning,{length_seconds:10}],[d.cU.cpu_cache,T],[d.cU.cpu_floating_point_accuracy,T],[d.cU.cpu_prime_search,T],[d.cU.cpu_stress,T],[d.cU.disk_read,{type:d.YF.linear,length_seconds:10,file_size_mb:100}],[d.cU.nvme_self_test,{test_type:d.fv.short_test}],[d.cU.nvme_wear_level,{wear_level_threshold:100}],[d.cU.power_button,{timeout_seconds:10}],[d.cU.smartctl_check,{}]]);var _=c(6039),I=c(2296),w=c(6007);function W(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.AsE(" ",e.key,": ",e.value," ")}}function z(n,i){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,W,2,2,"div",10),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.params,e.originalOrder))}}function H(n,i){1&n&&t.GkF(0)}function $(n,i){if(1&n&&(t.TgZ(0,"div",15)(1,"mat-icon",16),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",e.error," ")}}function X(n,i){if(1&n&&(t.TgZ(0,"div",17),t._UZ(1,"mat-progress-bar",18),t._uU(2),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("value",null==e.routineInfo?null:e.routineInfo.progress_percent),t.xp6(1),t.hij(" ",null==e.routineInfo?null:e.routineInfo.progress_percent,"% ")}}function B(n,i){if(1&n&&(t.ynx(0),t.YNc(1,H,1,0,"ng-container",12),t.YNc(2,$,4,1,"ng-template",null,13,t.W1O),t.YNc(4,X,3,2,"ng-template",null,14,t.W1O),t.BQk()),2&n){const e=t.MAs(3),o=t.MAs(5),r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.error)("ngIfThen",e)("ngIfElse",o)}}function K(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Passed"),t.qZA())}function tt(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("Failed: ",e.routineInfo.status_message,"")}}function et(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("Error: ",e.routineInfo.status_message,"")}}function nt(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Cancelled"),t.qZA())}function ot(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Failed To Start"),t.qZA())}function rt(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Removed"),t.qZA())}function it(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Unsupported"),t.qZA())}function at(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Not Run"),t.qZA())}function st(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.routineInfo.status_message,": ",e.routineInfo.user_message," ")}}function ct(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,K,2,0,"div",7),t.YNc(2,tt,2,1,"div",7),t.YNc(3,et,2,1,"div",7),t.YNc(4,nt,2,0,"div",7),t.YNc(5,ot,2,0,"div",7),t.YNc(6,rt,2,0,"div",7),t.YNc(7,it,2,0,"div",7),t.YNc(8,at,2,0,"div",7),t.YNc(9,st,2,2,"div",7),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",e.messageColor),t.xp6(1),t.Q6J("ngIf","passed"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","failed"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","error"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","cancelled"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","failed_to_start"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","removed"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","unsupported"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","not_run"===e.routineInfo.status),t.xp6(1),t.Q6J("ngIf","waiting_user_action"===e.routineInfo.status)}}var g=function(n){return n.READY="ready",n.RUNNING="running",n.STOPPING="stopping",n.WAITING_FOR_USER_ACTION="waiting_for_user_action",n}(g||{});const dt=[d.cU.ac_power,d.cU.battery_charge,d.cU.battery_discharge];let ut=(()=>{class n{get messageColor(){switch(this.routineInfo?.status){case d.x7.passed:return"green";case d.x7.waiting_user_action:return"yellow";default:return"red"}}constructor(e){this.diagnosticsService=e,this.DiagnosticsCardState=g,this.state=g.READY,this.originalOrder=m.p,this.terminalStates=new Set([d.x7.passed,d.x7.failed,d.x7.error,d.x7.cancelled,d.x7.failed_to_start,d.x7.removed,d.x7.unsupported,d.x7.not_run])}ngOnInit(){Z.has(this.routine)&&(this.params=Z.get(this.routine))}ngOnDestroy(){this.intervalId&&window.clearInterval(this.intervalId)}handleResponse(){this.routineInfo?this.routineInfo.status!==d.x7.waiting_user_action?this.terminalStates.has(this.routineInfo.status)&&this.stopRoutine():this.state=g.WAITING_FOR_USER_ACTION:this.error=_.Pl.INVALID_DIAGNOSTICS_ROUTINE_INFO}canResume(){return dt.includes(this.routine)}startRoutine(){var e=this;return(0,l.Z)(function*(){try{let o=yield e.diagnosticsService.startRoutine(e.routine,e.params);e.state=g.RUNNING,e.error=void 0,e.routineId=o.id,e.routineInfo=o.info;const r=h.hl.diagnostics.has(e.routine)?h.hl.diagnostics.get(e.routine):h.Qh;e.intervalId=window.setInterval(()=>{e.state===g.RUNNING&&e.getRoutineStatus()},r),e.handleResponse()}catch(o){e.error=String(o)}})()}stopRoutine(){var e=this;return(0,l.Z)(function*(){if(e.intervalId&&(window.clearInterval(e.intervalId),e.intervalId=void 0),e.state===g.RUNNING){try{if(e.state=g.STOPPING,void 0===e.routineId)throw"Routine ID is undefined";yield e.diagnosticsService.stopRoutine(e.routineId),e.error=void 0}catch(o){e.error=String(o)}e.routineId=void 0,e.state=g.READY}})()}resumeRoutine(){var e=this;return(0,l.Z)(function*(){try{let o=yield e.diagnosticsService.resumeRoutine(e.routineId);e.state=g.RUNNING,e.error=void 0,e.routineInfo=o.info,e.handleResponse()}catch(o){e.error=String(o)}})()}getRoutineStatus(){var e=this;return(0,l.Z)(function*(){try{let o=yield e.diagnosticsService.getRoutineStatus(e.routineId);e.error=void 0,e.routineInfo=o.info,e.handleResponse()}catch(o){e.error=String(o)}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(N.w))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-diagnostics-card"]],inputs:{routine:"routine"},decls:15,vars:7,consts:[[1,"diagnostics-card"],[1,"header-bar"],[1,"header-and-params"],["class","params-info",4,"ngIf"],[1,"buttons"],["mat-raised-button","","color","basic",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"],[4,"ngIf"],["class","message-bar",3,"ngClass",4,"ngIf"],[1,"params-info"],["class","param-info",4,"ngFor","ngForOf"],[1,"param-info"],[4,"ngIf","ngIfThen","ngIfElse"],["showError",""],["showRunning",""],[1,"error-message"],["mat-list-icon",""],[1,"progress-bar-container"],["mode","determinate",1,"progress-bar",3,"value"],[1,"message-bar",3,"ngClass"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"header"),t._uU(4),t.qZA(),t.YNc(5,z,3,4,"div",3),t.qZA(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return r.startRoutine()}),t._uU(8," Run "),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return r.stopRoutine()}),t._uU(10," Stop "),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return r.resumeRoutine()}),t._uU(12," Resume "),t.qZA()()(),t.YNc(13,B,6,3,"ng-container",7),t.YNc(14,ct,10,10,"div",8),t.qZA()),2&o&&(t.xp6(4),t.Oqu(r.routine.toUpperCase()),t.xp6(1),t.Q6J("ngIf",r.params),t.xp6(2),t.Q6J("disabled",r.state!==r.DiagnosticsCardState.READY),t.xp6(2),t.Q6J("disabled",r.state!==r.DiagnosticsCardState.RUNNING),t.xp6(2),t.Q6J("disabled",!r.canResume()||r.state!==r.DiagnosticsCardState.WAITING_FOR_USER_ACTION),t.xp6(2),t.Q6J("ngIf",r.state!==r.DiagnosticsCardState.READY),t.xp6(1),t.Q6J("ngIf",r.routineInfo))},dependencies:[s.mk,s.sg,s.O5,I.lW,f.Hw,w.pW,s.Nd],styles:[".diagnostics-card[_ngcontent-%COMP%]{background-color:var(--app-dashboard-card-background);padding:3rem;border-radius:3px}.header-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:14px;color:var(--app-dashboard-card-color)}.header-bar[_ngcontent-%COMP%]   .header-and-params[_ngcontent-%COMP%]{display:flex;flex-direction:row}.header-bar[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-top:auto;margin-bottom:auto}.params-info[_ngcontent-%COMP%]{font-size:10px;color:var(--color-grey);display:flex;flex-direction:column;margin-top:auto;margin-bottom:auto;margin-left:30px}.param-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.header-bar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto 5px}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);border-radius:5px;padding:1rem;display:flex;flex-direction:row;align-items:center}.progress-bar-container[_ngcontent-%COMP%]{padding-top:1rem;display:flex;flex-direction:row}.progress-bar[_ngcontent-%COMP%]{margin:auto}.message-bar[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;font-size:16px}.green[_ngcontent-%COMP%]{color:green}.yellow[_ngcontent-%COMP%]{color:var(--color-yellow)}.red[_ngcontent-%COMP%]{color:red}"]})}return n})();function lt(n,i){1&n&&t.GkF(0)}function pt(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"mat-icon",5),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error," ")}}function gt(n,i){if(1&n&&(t.TgZ(0,"div",7),t._UZ(1,"app-diagnostics-card",8),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routine",e)}}function mt(n,i){if(1&n&&t.YNc(0,gt,2,1,"div",6),2&n){const e=t.oxw();t.Q6J("ngForOf",e.visibleRoutines)}}let ft=(()=>{class n{get visibleRoutines(){return this.allVisibleRoutines.filter(e=>this.availableRoutines.includes(e))}getAvailableRoutines(){var e=this;return(0,l.Z)(function*(){try{const o=yield e.diagnosticsService.getAvailableRoutines();e.availableRoutines=o.routines}catch(o){e.error=String(o)}})()}constructor(e){this.diagnosticsService=e,this.allVisibleRoutines=y.Od,this.availableRoutines=[]}ngOnInit(){this.getAvailableRoutines()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(N.w))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-diagnostics-dashboard"]],decls:6,vars:3,consts:[[1,"diagnostics-dashboard"],[4,"ngIf","ngIfThen","ngIfElse"],["showError",""],["renderContent",""],[1,"error-message"],["mat-list-icon",""],["class","diagnostics-card-container",4,"ngFor","ngForOf"],[1,"diagnostics-card-container"],[3,"routine"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,lt,1,0,"ng-container",1),t.YNc(2,pt,4,1,"ng-template",null,2,t.W1O),t.YNc(4,mt,1,1,"ng-template",null,3,t.W1O),t.qZA()),2&o){const a=t.MAs(3),u=t.MAs(5);t.xp6(1),t.Q6J("ngIf",r.error)("ngIfThen",a)("ngIfElse",u)}},dependencies:[s.sg,s.O5,f.Hw,ut],styles:[".diagnostics-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.diagnostics-card-container[_ngcontent-%COMP%]{margin:8px;width:100%}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);border-radius:5px;padding:1rem;display:flex;flex-direction:row;align-items:center}"]})}return n})();var _t=c(469),R=c(603),b=c(381);function vt(n,i){1&n&&t.GkF(0)}function ht(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit;t.hij(" ",e.value," ")}}function Ct(n,i){if(1&n&&t._UZ(0,"app-events-card-content",5),2&n){const e=t.oxw().$implicit;t.Q6J("event",e.value)}}function xt(n,i){if(1&n&&(t.TgZ(0,"div")(1,"b"),t._uU(2),t.qZA(),t._uU(3,": "),t.YNc(4,vt,1,0,"ng-container",2),t.YNc(5,ht,1,1,"ng-template",null,3,t.W1O),t.YNc(7,Ct,1,1,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(6),r=t.MAs(8),a=t.oxw();t.xp6(2),t.Oqu(e.key),t.xp6(2),t.Q6J("ngIf",a.isPrimitiveType(e.value))("ngIfThen",o)("ngIfElse",r)}}let yt=(()=>{class n{constructor(){this.originalOrder=m.p,this.isPrimitiveType=m.t}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events-card-content"]],inputs:{event:"event"},decls:3,vars:4,consts:[[1,"events-card-content"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["renderPrimitive",""],["renderSubobject",""],[3,"event"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.YNc(1,xt,9,4,"div",1),t.ALo(2,"keyvalue"),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r.event,r.originalOrder)))},dependencies:[s.sg,s.O5,n,s.Nd],styles:[".events-card-content[_ngcontent-%COMP%]{font-size:10px;margin-left:20px}"]})}return n})();function Tt(n,i){1&n&&t.GkF(0)}function It(n,i){if(1&n&&(t.TgZ(0,"div",10)(1,"mat-icon",11),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error," ")}}function bt(n,i){if(1&n&&(t.TgZ(0,"div",14),t._uU(1," Get event: "),t._UZ(2,"app-events-card-content",15),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("event",e)}}function Ot(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",16),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("listening ",e.category," event ...")}}function At(n,i){if(1&n&&(t.YNc(0,bt,3,1,"div",12),t.YNc(1,Ot,3,1,"ng-container",13)),2&n){const e=t.oxw();t.Q6J("ngForOf",e.eventList),t.xp6(1),t.Q6J("ngIf","listening"===e.state)}}var v=function(n){return n.LISTENING="listening",n.NOT_LISTENING="not_listening",n}(v||{});let Nt=(()=>{class n{constructor(e,o){var r=this;this.eventsService=e,this.loggingService=o,this.EventsCardState=v,this.eventList=[],this.state=v.NOT_LISTENING,this.subscriptions=[],this.startCapturingEvents=(0,l.Z)(function*(){try{if(r.state===v.LISTENING)return void r.loggingService.error("Event has already stopped captured");r.state=v.LISTENING,r.eventList=[],r.error=void 0,r.eventsService.startCapturingEvents(r.category)}catch(a){r.loggingService.error("Failed to stop capturing event: ",a),r.error=a.message}}),this.stopCapturingEvents=(0,l.Z)(function*(){try{if(r.state===v.NOT_LISTENING)return void r.loggingService.error("Event has already stopped captured");r.state=v.NOT_LISTENING,r.eventsService.stopCapturingEvents(r.category)}catch(a){r.loggingService.error("Failed to stop capturing event: ",a),r.error=a.message}})}ngOnInit(){var e=this;return(0,l.Z)(function*(){try{const o=yield e.eventsService.getSubject(e.category);if(!o.success)return e.loggingService.error("Failed to get event subject: ",o.error),void(e.error=o.error);if(!o.subject)return e.loggingService.error("Unexpected event subject: ",o),void(e.error="Unexpected event subject");e.subscriptions.push(o.subject.subscribe({next:r=>{e.error=void 0,e.eventList.push(r)}}))}catch(o){e.loggingService.error("Failed to get event subject: ",o),e.error=o.message}})()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(R.n),t.Y36(b.e))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events-card"]],inputs:{category:"category"},decls:16,vars:6,consts:[[1,"events-card"],[1,"header-bar"],[1,"buttons"],["mat-raised-button","","color","basic",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"],[1,"events-content-container"],[1,"events-content"],[4,"ngIf","ngIfThen","ngIfElse"],["showError",""],["showContent",""],[1,"error-message"],["mat-list-icon",""],["class","events-card-content-container",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"events-card-content-container"],[3,"event"],[1,"listening-text"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"header"),t._uU(3),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return r.startCapturingEvents()}),t._uU(6," Start "),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return r.stopCapturingEvents()}),t._uU(8," Stop "),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6),t.YNc(11,Tt,1,0,"ng-container",7),t.YNc(12,It,4,1,"ng-template",null,8,t.W1O),t.YNc(14,At,2,2,"ng-template",null,9,t.W1O),t.qZA()()()),2&o){const a=t.MAs(13),u=t.MAs(15);t.xp6(3),t.Oqu(r.category.toUpperCase()),t.xp6(2),t.Q6J("disabled","listening"===r.state),t.xp6(2),t.Q6J("disabled","not_listening"===r.state),t.xp6(4),t.Q6J("ngIf",r.error)("ngIfThen",a)("ngIfElse",u)}},dependencies:[s.sg,s.O5,I.lW,f.Hw,yt],styles:[".events-card[_ngcontent-%COMP%]{background-color:var(--app-dashboard-card-background);padding:3rem;border-radius:3px}.events-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-top:auto;margin-bottom:auto}.header-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:14px}.header-bar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto 5px}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);display:flex;justify-content:center;align-items:center;margin-top:1rem}.events-card-content-container[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:row;margin:10px}.events-content-container[_ngcontent-%COMP%]{max-height:300px;overflow:auto;padding:10px}.listening-text[_ngcontent-%COMP%]{color:#0ff;font-size:12px;display:flex;justify-content:center;align-items:center;margin-top:1rem}"]})}return n})();function Zt(n,i){1&n&&t.GkF(0)}function wt(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"mat-icon",5),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error," ")}}function Rt(n,i){if(1&n&&(t.TgZ(0,"div",7),t._UZ(1,"app-events-card",8),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("category",e)}}function St(n,i){if(1&n&&t.YNc(0,Rt,2,1,"div",6),2&n){const e=t.oxw();t.Q6J("ngForOf",e.supportedCategories)}}let Et=(()=>{class n{isEventSupported(e){var o=this;return(0,l.Z)(function*(){try{(yield o.eventsService.isEventSupported(e)).status===_t.ge.supported&&(o.supportedCategories.push(e),o.supportedCategories.sort())}catch(r){o.error=String(r)}})()}constructor(e){this.eventsService=e,this.supportedCategories=[]}ngOnInit(){for(const e of y.JI)this.isEventSupported(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(R.n))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events-dashboard"]],decls:6,vars:3,consts:[[1,"events-dashboard"],[4,"ngIf","ngIfThen","ngIfElse"],["showError",""],["renderContent",""],[1,"error-message"],["mat-list-icon",""],["class","events-card-container",4,"ngFor","ngForOf"],[1,"events-card-container"],[3,"category"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,Zt,1,0,"ng-container",1),t.YNc(2,wt,4,1,"ng-template",null,2,t.W1O),t.YNc(4,St,1,1,"ng-template",null,3,t.W1O),t.qZA()),2&o){const a=t.MAs(3),u=t.MAs(5);t.xp6(1),t.Q6J("ngIf",r.error)("ngIfThen",a)("ngIfElse",u)}},dependencies:[s.sg,s.O5,f.Hw,Nt],styles:[".events-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.events-card-container[_ngcontent-%COMP%]{margin:8px;width:100%}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);border-radius:5px;padding:1rem;display:flex;flex-direction:row;align-items:center}"]})}return n})();var S=c(1088),Mt=c(7398),Ut=c(940),O=c(735),Pt=c(1274),Dt=c(2453);const Ft={name:"Telemetry",link:"/support-assist/telemetry"},Yt={name:"Diagnostics",link:"/support-assist/diagnostics"},Jt={name:"Events",link:"/support-assist/events"},Qt={name:"Routine V2",link:"/support-assist/routine-v2"};var E=c(2098);function kt(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2),t._uU(3),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(2),t.s9C("routerLink",e.link),t.xp6(1),t.hij(" ",e.name," ")}}let qt=(()=>{class n{constructor(){this.navLists=[Ft,Yt,Jt,Qt]}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["support-assist-app-side-nav"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-subheader",""],["routerLinkActive","active",1,"menu-navigation-button",3,"routerLink"]],template:function(o,r){1&o&&(t.YNc(0,kt,4,2,"div",0),t.TgZ(1,"div"),t._UZ(2,"mat-nav-list"),t.qZA()),2&o&&t.Q6J("ngForOf",r.navLists)},dependencies:[x.rH,x.Od,s.sg,E.Hk,E.gs],styles:["[_nghost-%COMP%]{background:inherit}.mat-subheader[_ngcontent-%COMP%]{color:var(--app-sidenav-subheader-color);font-size:20px}.menu-navigation-button[_ngcontent-%COMP%]{height:40px;font-size:18px;font-weight:400;padding-left:10px}.menu-navigation-button[_ngcontent-%COMP%]:hover{color:var(--app-sidenav-item-active-color);cursor:pointer}.active[_ngcontent-%COMP%]{font-weight:500;color:var(--app-sidenav-item-active-color)}"]})}return n})(),jt=(()=>{class n{constructor(e){this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe(S.u3.Handset).pipe((0,Mt.U)(o=>o.matches),(0,Ut.d)())}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(S.Yg))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["support-assist-app-content-layout"]],decls:13,vars:9,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],[3,"toggleDrawer"],[1,"app-content-container"]],template:function(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),t.ALo(3,"async"),t.ALo(4,"async"),t.ALo(5,"async"),t.TgZ(6,"mat-toolbar"),t._uU(7,"Menu"),t.qZA(),t._UZ(8,"support-assist-app-side-nav"),t.qZA(),t.TgZ(9,"mat-sidenav-content")(10,"app-header",3),t.NdJ("toggleDrawer",function(){t.CHM(a);const Re=t.MAs(2);return t.KtG(Re.toggle())}),t.qZA(),t.TgZ(11,"div",4),t._UZ(12,"router-outlet"),t.qZA()()()}2&o&&(t.xp6(1),t.Q6J("mode",t.lcZ(4,5,r.isHandset$)?"over":"side")("opened",!1===t.lcZ(5,7,r.isHandset$)),t.uIk("role",t.lcZ(3,3,r.isHandset$)?"dialog":"navigation"))},dependencies:[x.lC,O.JX,O.TM,O.Rh,Pt.Ye,Dt.G,qt,s.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:300px}mat-sidenav.mat-drawer[_ngcontent-%COMP%]{background-color:var(--app-sidenav-background);color:var(--app-sidenav-color)}mat-sidenav.mat-drawer-side[_ngcontent-%COMP%]{border-right:1px solid var(--app-header-border-bottom-color)}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background-color:var(--app-sidenav-background);color:var(--app-sidenav-color)}.sidenav[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{color:var(--app-sidenav-color)}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.mat-drawer-content[_ngcontent-%COMP%]{background-color:var(--app-content-background);color:var(--app-content-color)}.app-content-container[_ngcontent-%COMP%]{padding:2rem 3rem}"]})}return n})();var Lt=c(383),M=c(1298),Vt=c(7670);function Gt(n,i){1&n&&t.GkF(0)}function Wt(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw();t.hij(" ",e.output,"\n")}}function zt(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2),t.qZA(),t._UZ(3,"app-routine-v2-card-content",5),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.hij("",e.key,":"),t.xp6(1),t.Q6J("output",e.value)}}function Ht(n,i){if(1&n&&(t.YNc(0,zt,4,2,"div",3),t.ALo(1,"keyvalue")),2&n){const e=t.oxw();t.Q6J("ngForOf",t.xi3(1,1,e.output,e.originalOrder))}}let $t=(()=>{class n{constructor(){this.originalOrder=m.p,this.isPrimitiveType=m.t}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-routine-v2-card-content"]],inputs:{output:"output"},decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["renderPrimitive",""],["renderSubobject",""],["class","routine-v2-card-content",4,"ngFor","ngForOf"],[1,"routine-v2-card-content"],[3,"output"]],template:function(o,r){if(1&o&&(t.YNc(0,Gt,1,0,"ng-container",0),t.YNc(1,Wt,1,1,"ng-template",null,1,t.W1O),t.YNc(3,Ht,2,4,"ng-template",null,2,t.W1O)),2&o){const a=t.MAs(2),u=t.MAs(4);t.Q6J("ngIf",r.isPrimitiveType(r.output))("ngIfThen",a)("ngIfElse",u)}},dependencies:[s.sg,s.O5,n,s.Nd],styles:[".routine-v2-card-content[_ngcontent-%COMP%]{font-size:10px;margin-left:20px}"]})}return n})();function Xt(n,i){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.AsE(" ",e.key,": ",e.value," ")}}function Bt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Xt,2,2,"div",16),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.value,o.originalOrder))}}function Kt(n,i){if(1&n&&(t.TgZ(0,"div",14),t.YNc(1,Bt,3,4,"div",15),t.ALo(2,"keyvalue"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.routineArgument,e.originalOrder))}}function te(n,i){1&n&&t.GkF(0)}function ee(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"mat-icon",19),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error," ")}}function ne(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"mat-progress-bar",21),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("value",e.percentage),t.xp6(1),t.hij(" ",e.percentage,"% ")}}function oe(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",e.passedColor),t.xp6(1),t.hij(" ",e.hasPassed?"Routine Passed":"Routine Failed"," ")}}var p=function(n){return n.FINISHED="finished",n.INITIALIZED="initialized",n.RUNNING="running",n.WAITING="waiting",n.EXCEPTION="exception",n.CANCELLED="cancelled",n}(p||{});let re=(()=>{class n{get passedColor(){return this.hasPassed?"green":"red"}get messageColor(){return this.routineState===p.EXCEPTION||this.routineState===p.CANCELLED?"yellow":"white"}get routineCategory(){return(0,Vt.l)(this.routineArgument)}constructor(e,o){this.routineV2Service=e,this.loggingService=o,this.RoutineV2State=p,this.percentage=0,this.routineState=p.FINISHED,this.subscriptions=[],this.originalOrder=m.p}ngOnInit(){var e=this;return(0,l.Z)(function*(){try{const o=yield e.routineV2Service.getSubject(e.routineArgument);if(!o.success)return e.loggingService.error("Failed to get routine v2 subject: ",o.error),void(e.error=o.error);if(!o.subject)return e.loggingService.error("Unexpected routine v2 subject: ",o),void(e.error="Unexpected routine v2 subject");e.subscriptions.push(o.subject.subscribe({next:r=>{e.handleEventResponse(r)}}))}catch(o){e.loggingService.error("Failed to get routine v2 subject: ",o),e.error=o.message}})()}ngOnDestroy(){this.uuid&&this.routineV2Service.CancelRoutine(this.uuid),this.subscriptions.forEach(e=>e.unsubscribe())}_checkUUID(e){return this.uuid===e||(this.loggingService.error("UUID not matched"),this.error="ERROR: uuid not matched",!1)}handleEventResponse(e){var o=this;return(0,l.Z)(function*(){switch(e.eventCategory){case _.Q_.INITIALIZED:if(o.output="initialized",o.routineState=p.RUNNING,!o._checkUUID(e.event.uuid))break;break;case _.Q_.RUNNING:{o.output="running...",o.routineState=p.RUNNING;const r=e.event;if(!o._checkUUID(r.uuid))break;r.percentage&&(o.percentage=r.percentage),r.info&&(o.output=r.info);break}case _.Q_.WAITING:{o.routineState=p.WAITING;const r=e.event;if(!o._checkUUID(r.uuid))break;r.percentage&&(o.percentage=r.percentage),o.output="Waiting: "+r.message;break}case _.Q_.EXCEPTION:{o.routineState=p.EXCEPTION;const r=e.event;if(!o._checkUUID(r.uuid))break;o.percentage=0,o.output="Exception: "+r.debugMessage;break}case _.Q_.FINISHED:{o.routineState=p.FINISHED;const r=e.event;if(!o._checkUUID(r.uuid))break;o.percentage=100,o.hasPassed=r.hasPassed,o.uuid=void 0,o.output=r.detail;break}}})()}createAndStartRoutine(){var e=this;return(0,l.Z)(function*(){try{const o=yield e.routineV2Service.CreateRoutine(e.routineArgument);if(e.uuid=o.uuid,e.routineState=p.INITIALIZED,e.output=void 0,e.hasPassed=void 0,void 0===e.uuid)throw new TypeError("Create routine error");yield e.routineV2Service.StartRoutine(e.uuid),e.percentage=0}catch(o){e.loggingService.error("Failed to get create and start V2 routine: ",o),e.error=String(o)}})()}cancelRoutine(){var e=this;return(0,l.Z)(function*(){if(e.uuid)try{e.routineState=p.CANCELLED;const o=e.uuid;e.uuid=void 0,yield e.routineV2Service.CancelRoutine(o),e.output="routine cancelled",e.percentage=0}catch(o){e.loggingService.error("Failed to get cancel V2 routine: ",o),e.error=String(o)}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(M.w),t.Y36(b.e))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-routine-v2-card"]],inputs:{routineArgument:"routineArgument"},decls:20,vars:10,consts:[[1,"routine-v2-card"],[1,"header-bar"],[1,"header-and-params"],["class","params-info",4,"ngIf"],[1,"buttons"],["mat-raised-button","","color","basic",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"],[4,"ngIf","ngIfThen","ngIfElse"],["showError",""],["showRunning",""],["class","message-bar",3,"ngClass",4,"ngIf"],[1,"message-bar",3,"ngClass"],[1,"routine-v2-card-content-container"],[3,"output"],[1,"params-info"],[4,"ngFor","ngForOf"],["class","param-info",4,"ngFor","ngForOf"],[1,"param-info"],[1,"error-message"],["mat-list-icon",""],[1,"progress-bar-container"],["mode","determinate",1,"progress-bar",3,"value"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"header"),t._uU(4),t.qZA(),t.YNc(5,Kt,3,4,"div",3),t.qZA(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return r.createAndStartRoutine()}),t._uU(8," Run "),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return r.cancelRoutine()}),t._uU(10," Cancel "),t.qZA()()(),t.YNc(11,te,1,0,"ng-container",7),t.YNc(12,ee,4,1,"ng-template",null,8,t.W1O),t.YNc(14,ne,3,2,"ng-template",null,9,t.W1O),t.YNc(16,oe,2,2,"div",10),t.TgZ(17,"div",11)(18,"div",12),t._UZ(19,"app-routine-v2-card-content",13),t.qZA()()()),2&o){const a=t.MAs(13),u=t.MAs(15);t.xp6(4),t.Oqu(null!==r.routineCategory?r.routineCategory.toUpperCase():"error"),t.xp6(1),t.Q6J("ngIf",r.routineArgument),t.xp6(2),t.Q6J("disabled",r.routineState!==r.RoutineV2State.FINISHED&&r.routineState!==r.RoutineV2State.CANCELLED&&r.routineState!==r.RoutineV2State.EXCEPTION),t.xp6(2),t.Q6J("disabled",r.routineState!==r.RoutineV2State.RUNNING&&r.routineState!==r.RoutineV2State.WAITING),t.xp6(2),t.Q6J("ngIf",r.error)("ngIfThen",a)("ngIfElse",u),t.xp6(5),t.Q6J("ngIf",r.routineState===r.RoutineV2State.FINISHED&&void 0!==r.hasPassed),t.xp6(1),t.Q6J("ngClass",r.messageColor),t.xp6(2),t.Q6J("output",r.output)}},dependencies:[s.mk,s.sg,s.O5,I.lW,f.Hw,w.pW,$t,s.Nd],styles:[".routine-v2-card[_ngcontent-%COMP%]{background-color:var(--app-dashboard-card-background);padding:3rem;border-radius:3px}.header-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:14px;color:var(--app-dashboard-card-color)}.header-bar[_ngcontent-%COMP%]   .header-and-params[_ngcontent-%COMP%]{display:flex;flex-direction:row}.header-bar[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-top:auto;margin-bottom:auto}.params-info[_ngcontent-%COMP%]{font-size:10px;color:var(--color-grey);display:flex;flex-direction:column;margin-top:auto;margin-bottom:auto;margin-left:30px}.param-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.header-bar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto 5px}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);border-radius:5px;padding:1rem;display:flex;flex-direction:row;align-items:center}.progress-bar-container[_ngcontent-%COMP%]{padding-top:1rem;display:flex;flex-direction:row}.progress-bar[_ngcontent-%COMP%]{margin:auto}.message-bar[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;font-size:16px}.green[_ngcontent-%COMP%]{color:green}.yellow[_ngcontent-%COMP%]{color:var(--color-yellow)}.red[_ngcontent-%COMP%]{color:red}"]})}return n})();function ie(n,i){1&n&&t.GkF(0)}function ae(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"mat-icon",5),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error," ")}}function se(n,i){if(1&n&&(t.TgZ(0,"div",7),t._UZ(1,"app-routine-v2-card",8),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routineArgument",e)}}function ce(n,i){if(1&n&&t.YNc(0,se,2,1,"div",6),2&n){const e=t.oxw();t.Q6J("ngForOf",e.supportedRoutines)}}let de=(()=>{class n{isRoutineArgumentSupported(e){var o=this;return(0,l.Z)(function*(){try{(yield o.RoutineV2Service.isRoutineArgumentSupported(e)).status===Lt.DR.supported&&o.supportedRoutines.push(e)}catch(r){o.error=String(r)}})()}constructor(e){this.RoutineV2Service=e,this.supportedRoutines=[]}ngOnInit(){for(const e of y.h)this.isRoutineArgumentSupported(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(M.w))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-routine-v2-dashboard"]],decls:6,vars:3,consts:[[1,"routine-v2-dashboard"],[4,"ngIf","ngIfThen","ngIfElse"],["showError",""],["renderContent",""],[1,"error-message"],["mat-list-icon",""],["class","routine-v2-card-container",4,"ngFor","ngForOf"],[1,"routine-v2-card-container"],[3,"routineArgument"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,ie,1,0,"ng-container",1),t.YNc(2,ae,4,1,"ng-template",null,2,t.W1O),t.YNc(4,ce,1,1,"ng-template",null,3,t.W1O),t.qZA()),2&o){const a=t.MAs(3),u=t.MAs(5);t.xp6(1),t.Q6J("ngIf",r.error)("ngIfThen",a)("ngIfElse",u)}},dependencies:[s.sg,s.O5,f.Hw,re],styles:[".routine-v2-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.routine-v2-card-container[_ngcontent-%COMP%]{margin:8px;width:100%}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);border-radius:5px;padding:1rem;display:flex;flex-direction:row;align-items:center}"]})}return n})();var ue=c(553);let le=(()=>{class n{constructor(e){this.loggingService=e,this.extensionId=ue.N.extensionId}constructTelemetryRequest(e){return{type:_.xd.TELEMETRY,telemetry:{infoType:e}}}fetchTelemetryData(e){return new Promise((o,r)=>{const a=this.constructTelemetryRequest(e);window.chrome.runtime.sendMessage(this.extensionId,a,u=>u.success?u.telemetry?o(u.telemetry.info):(this.loggingService.error("Response does not contain telemetry field: ",u),r("Response does not contain telemetry field")):(this.loggingService.error("Failed to send telemetry request: ",u.error),r(u.error)))})}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(b.e))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe=c(5940);function ge(n,i){1&n&&t.GkF(0)}function me(n,i){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit;t.hij(" ",e.value," ")}}function fe(n,i){if(1&n&&t._UZ(0,"app-telemetry-card-content",5),2&n){const e=t.oxw().$implicit;t.Q6J("info",e.value)}}function _e(n,i){if(1&n&&(t.TgZ(0,"div",1)(1,"b"),t._uU(2),t.qZA(),t._uU(3,": "),t.YNc(4,ge,1,0,"ng-container",2),t.YNc(5,me,1,1,"ng-template",null,3,t.W1O),t.YNc(7,fe,1,1,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(6),r=t.MAs(8),a=t.oxw();t.xp6(2),t.Oqu(e.key),t.xp6(2),t.Q6J("ngIf",a.isPrimitiveType(e.value))("ngIfThen",o)("ngIfElse",r)}}let ve=(()=>{class n{constructor(){this.originalOrder=m.p,this.isPrimitiveType=m.t}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-telemetry-card-content"]],inputs:{info:"info"},decls:2,vars:4,consts:[["class","telemetry-card-content",4,"ngFor","ngForOf"],[1,"telemetry-card-content"],[4,"ngIf","ngIfThen","ngIfElse"],["renderPrimitive",""],["renderSubobject",""],[3,"info"]],template:function(o,r){1&o&&(t.YNc(0,_e,9,4,"div",0),t.ALo(1,"keyvalue")),2&o&&t.Q6J("ngForOf",t.xi3(1,1,r.info,r.originalOrder))},dependencies:[s.sg,s.O5,n,s.Nd],styles:[".telemetry-card-content[_ngcontent-%COMP%]{margin-left:20px}"]})}return n})();function he(n,i){1&n&&t.GkF(0)}function Ce(n,i){if(1&n&&t._UZ(0,"app-telemetry-card-content",5),2&n){const e=t.oxw();t.Q6J("info",e.info)}}function xe(n,i){1&n&&t.GkF(0)}function ye(n,i){if(1&n&&(t.TgZ(0,"div",8)(1,"mat-icon",9),t._uU(2,"warning"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",e.error," ")}}function Te(n,i){1&n&&t._UZ(0,"mat-spinner",10),2&n&&t.Q6J("diameter",20)}function Ie(n,i){if(1&n&&(t.YNc(0,xe,1,0,"ng-container",2),t.YNc(1,ye,4,1,"ng-template",null,6,t.W1O),t.YNc(3,Te,1,1,"ng-template",null,7,t.W1O)),2&n){const e=t.MAs(2),o=t.MAs(4),r=t.oxw();t.Q6J("ngIf",r.error)("ngIfThen",e)("ngIfElse",o)}}let be=(()=>{class n{updateData(e){var o=this;return(0,l.Z)(function*(){try{const r=yield o.telemetryService.fetchTelemetryData(e);o.info=r,o.error=void 0}catch(r){o.error=r.message,o.info=void 0}})()}constructor(e){this.telemetryService=e}ngOnInit(){const e=this.type,o=h.hl.telemetry.has(e)?h.hl.telemetry.get(e):h.Dx;this.updateData(e),this.intervalId=window.setInterval(()=>{this.updateData(e)},o)}ngOnDestroy(){window.clearInterval(this.intervalId)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(le))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-telemetry-card"]],inputs:{type:"type"},decls:9,vars:4,consts:[[1,"telemetry-card"],[1,"telemetry-card-content-container"],[4,"ngIf","ngIfThen","ngIfElse"],["renderCardContent",""],["renderLoadingOrError",""],[3,"info"],["showError",""],["showLoading",""],[1,"error-message"],["mat-list-icon",""],[1,"loading-spinner",3,"diameter"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0)(1,"header"),t._uU(2),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,he,1,0,"ng-container",2),t.YNc(5,Ce,1,1,"ng-template",null,3,t.W1O),t.YNc(7,Ie,5,3,"ng-template",null,4,t.W1O),t.qZA()()),2&o){const a=t.MAs(6),u=t.MAs(8);t.xp6(2),t.Oqu(r.type.toUpperCase()),t.xp6(2),t.Q6J("ngIf",r.info)("ngIfThen",a)("ngIfElse",u)}},dependencies:[s.O5,f.Hw,pe.Ou,ve],styles:[".telemetry-card[_ngcontent-%COMP%]{background-color:var(--app-dashboard-card-background);padding:3rem;border-radius:3px;display:flex;flex-direction:column;justify-content:center;font-size:14px;color:var(--app-dashboard-card-color)}.telemetry-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:1rem}.telemetry-card-content-container[_ngcontent-%COMP%]{max-height:300px;overflow:auto;padding:10px}.error-message[_ngcontent-%COMP%]{color:var(--app-error-message-color);border-radius:5px;padding:1rem;display:flex;flex-direction:row;align-items:center}.loading-spinner[_ngcontent-%COMP%]{margin:auto}"]})}return n})();function Oe(n,i){if(1&n&&(t.TgZ(0,"div",2),t._UZ(1,"app-telemetry-card",3),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("type",e)}}const Ae=[{path:"",component:jt,pathMatch:"prefix",children:[{path:"",redirectTo:"telemetry",pathMatch:"full"},{path:"telemetry",component:(()=>{class n{constructor(){this.visibleTypes=y.FQ}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-telemetry-dashboard"]],decls:2,vars:1,consts:[[1,"telemetry-dashboard"],["class","telemetry-card-container",4,"ngFor","ngForOf"],[1,"telemetry-card-container"],[3,"type"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Oe,2,1,"div",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",r.visibleTypes))},dependencies:[s.sg,be],styles:[".telemetry-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.telemetry-card-container[_ngcontent-%COMP%]{margin:8px}"]})}return n})()},{path:"diagnostics",component:ft},{path:"events",component:Et},{path:"routine-v2",component:de},{path:"**",redirectTo:"telemetry"}]}];let Ne=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[x.Bz.forChild(Ae),x.Bz]})}return n})(),Ze=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[s.ez,C.m]})}return n})(),we=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[U,P,D,Ze,Ne,C.m]})}return n})()}}]);